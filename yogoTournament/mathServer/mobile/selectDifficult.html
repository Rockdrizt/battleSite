<!doctype html>
<html>
<head>
    <title class="languageTitle">Yogome tournament</title>
    <meta name="viewport" content="width = 1050, user-scalable = no" />
    <meta charset="UTF-8">   
    <link rel="stylesheet" type="text/css" href="assets/css/main.css" />
    <link rel="stylesheet" type="text/css" href="assets/css/dificulty.css" />
    <link rel="stylesheet" type="text/css" href="assets/css/modal.css" />
    <!-- Jquery   -->
    <script src="assets/js/lib/jquery.min.js" ></script>
    <!--  Bootstrap 3.0  -->
    <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
    
    <link href="https://fonts.googleapis.com/css?family=Luckiest+Guy" rel="stylesheet">
    
    <script type="text/javascript" src="assets/js/lib/greensock/TweenMax.min.js"></script>
    <script type="text/javascript" src="assets/js/lib/iscroll-probe.js"></script>

    <script src="http://code.jquery.com/jquery-1.11.3.min.js"></script>
    <link href="http://www.jqueryscript.net/css/jquerysctipttop.css" rel="stylesheet" type="text/css">
    
    <script src="assets/js/Carousel.js"></script>
    
    <script>
    $(document).ready(function() {
        $('.carousel-container').carousel({
            num: 1,
            maxWidth: 450,
            maxHeight: 450,
            distance: 100,
            scale: 0.6,
            animationTime: 500,
            autoPlay: false,
            distance: 100
        });
    });
    </script>
    
</head>
    
<body>
     
    <section id="bgGradient"></section> 
    
    <div class="container font-luckiest">
        
        <div class="banner">DIFFICULTY</div>
        
        <div class="dificult-container">
            
            <div class="left-arrow"></div>
            <div id="lvl-text" style="width: 80%">EASY</div>
            <div class="right-arrow"></div>
 
        </div>
        
        <div class="menu-container">
            
            <div class="subject-container">
                
                <div id="checkBox0" class="checkBlank">
                    <img src="assets/images/blank_check.png"> 
                    <img class="markCheck" src="assets/images/mark_check.png">
                </div>

                <div id="adition">ADITION</div>

                <div class="plus-btn" id="plusImg1" data-type="SUM"></div>
            
            </div>
            
            <div class="subject-container">
                <div id="checkBox1" class="checkBlank">
                    <img src="assets/images/blank_check.png"> 
                    <img class="markCheck" src="assets/images/mark_check.png">
                </div>

                <div id="substraction">SUBSTRACTION</div>

                <div class="plus-btn" id="plusImg2" data-type="SUB"></div>
            </div>
            
            <div class="subject-container">
                <div id="checkBox2" class="checkBlank">
                    <img src="assets/images/blank_check.png"> 
                    <img class="markCheck" src="assets/images/mark_check.png">
                </div>

                <div id="multiplcation">MULTIPLICATION</div>

                <div class="plus-btn" id="plusImg3" data-type="MUL"></div>
            </div>
            
            <div class="subject-container">
                <div id="checkBox3" class="checkBlank">
                    <img src="assets/images/blank_check.png"> 
                    <img class="markCheck" src="assets/images/mark_check.png">
                </div>

                <div id="division">DIVISION</div>

                <div class="plus-btn" id="plusImg4" data-type="DIV"></div>
            </div>
            
        </div>
       
        <div class="object-center">

            <button class="menuBtn red-btn" type="button" onclick="window.location.href='selectSubject.html'">BACK</button>
            
            <button class="menuBtn green-btn" type="button" onclick="window.location.href='customize.html'">NEXT</button>

        </div>
        
    </div>

    
    <!-- modal -->
    <div id="modal" class="modal ">
        <div class="modal-content font-luckiest">
            <div class="modal-title">
                <span>ADITION</span>
                <img class="close-btn" src="assets/images/closeButton.png">
            </div>
            
            <div class="modal-body">
            </div>
        </div>
            
    </div>


<script type="text/javascript" src="../assets/js/operationGenerator.js"></script>
<script type="text/javascript" src="assets/js/modal.js"></script>
<script>

	var current_set = "EASY"
	var difficultSet = parent.ruleSet || operationGenerator.RULES_SET[current_set]
	var ruleSet
	var OPERATORS = ["SUM", "SUB", "MUL", "DIV"]
	var operatorsObject = {}

    for(var i = 0; i < 4; i++){
        $("#checkBox" + i).attr("selection",1);

        $("#checkBox" + i).click(function(){

             if($(this).attr("selection") == 1){
                 $(this).find(".markCheck").css("display","none");
                 $(this).attr("selection",0)
             }else{
                 $(this).find(".markCheck").css("display","block");
                 $(this).attr("selection",1)
             }
        });
    }
    
    var index = 0;
    
    var lvl = ['EASY', 'MEDIUM', 'HARD', 'MASTER']
    
    $(".left-arrow").click(function(){
        if(index > 0){
            index--
        }
        else{
            index = lvl.length - 1
        }
        $("#lvl-text").text(lvl[index]);
        current_set = lvl[index]
		difficultSet = operationGenerator.RULES_SET[current_set]
    });
    
    $(".right-arrow").click(function(){
        if(index < lvl.length -1){
            index++
        }
        else{
            index = 0
        }
        $("#lvl-text").text(lvl[index]);
		current_set = lvl[index]
		difficultSet = operationGenerator.RULES_SET[current_set]
    });
    
    for(var r = 1; r <= 4; r++){
        $("#plusImg"+r).css('background-image', "url('assets/images/plus" + r + ".png')");
    }


	function printRule(rule, operator){
		var string = ""

		if(operator === "MUL")
			string += "("
		if(rule.paramToAnswer === operationGenerator.OPERATION_PARAMS.operand1)
			string += "?"
		else if(rule.operand1X) {

			for (var index = 0; index < rule.operand1X; index++){
				string += "X"
			}

		}else if(rule.operand1Const){
			string += rule.operand1Const
		}
		if(operator === "MUL")
			string += ")"

		switch (operator){
			case "SUM":
				string+="+"
				$(".headerDifficulty").find("p").text("ADDITION")
				break
			case "SUB":
				string+="-"
				$(".headerDifficulty").find("p").text("SUBSTRACTION")
				break
			case "MUL":
				string+=""
				$(".headerDifficulty").find("p").text("MULTIPLICATION")
				break
			case "DIV":
				string+="รท"
				$(".headerDifficulty").find("p").text("DIVISION")
				break
		}

		if(operator === "MUL")
			string += "("
		if(rule.paramToAnswer === operationGenerator.OPERATION_PARAMS.operand2)
			string += "?"
		else if(rule.operand2X) {

			for (var index = 0; index < rule.operand2X; index++){
				string += "X"
			}
		}else if(rule.operand2Const){
			string += rule.operand2Const
		}
		if(operator === "MUL")
			string += ")"

		if(rule.paramToAnswer === operationGenerator.OPERATION_PARAMS.result)
			string += "=?"
		else {
			string += "=X"
		}

		if(rule.minRange) {
			string += " Min " + rule.minRange
		}

		if(rule.maxRange) {
			switch (operator){
				case "SUM":
					string += " Max Sum " + rule.maxRange
					break
				case "SUB":
					string += " Max Difference " + rule.maxRange
					break
				case "MUL":
					string += " Max Product " + rule.maxRange
					break
				case "DIV":
					string += " " + rule.maxRange
					break
			}
		}

		return string
	}

	function getRules(operator) {

		$(".modal-body").html("")

		ruleSet = difficultSet[operator]
		for (var p = 0; p <= ruleSet.length - 1; p++) {
			var rule = ruleSet[p]

			$(".modal-body")
				.append(' <div id="operation' + p + '" class="menu-options">' +
					'<div><span>' + printRule(rule, operator) + '</span></div>' +
					'<div id="checkChoice' + p + '"  class="checkChoice" data-num="' + p +'">' +
					'<img src="assets/images/blank_check.png"> ' +
					'<img class="markCheck" src="assets/images/mark_check.png"> ' +
					'</div> ' +
					'</div>');

			if(!rule.disable)
				$("#checkChoice" + p).attr("selection",1);
			else {
				console.log("disable rule")
				$("#checkChoice" + p).find(".markCheck").css("display","none");
				$("#checkChoice" + p).attr("selection", 0);
			}


			$("#checkChoice" + p).click(function(){

				if($(this).attr("selection") == 1){
					$(this).find(".markCheck").css("display","none");
					$(this).attr("selection",0)
					var num = $(this).data("num")
					ruleSet[num].disable = true
					//aqui para guardar el deseleccionado
				}else{
					$(this).find(".markCheck").css("display","block");
					$(this).attr("selection",1)
					$(this).data("num")
					var num = $(this).data("num")
					ruleSet[num].disable = false
					//aqui para guardar el seleccionado
				}
			});


			if (p % 2 === 0) {
				$("#operation" + p).addClass("purple-back");
			}
		}
	}
    
</script>
    
</body>       
</html>


        
    




